<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Agora - Carte du Restaurant</title>

    <!-- Anti-cache: force les navigateurs √† toujours charger la derni√®re version -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* ============================================
           CSS VARIABLES
           ============================================ */
        :root {
            --color-bg: #000000;
            --color-title: #FFFFFF;
            --color-description: #D3D3D3;
            --color-accent: #00B4D8;
            --color-gold: #C59764;
            --color-line: #333333;
            
            --font-title: 'Cormorant Garamond', serif;
            --font-body: 'Jost', sans-serif;
        }

        /* ============================================
           RESET & BASE
           ============================================ */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--color-bg);
            color: var(--color-title);
            line-height: 1.6;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ============================================
           HEADER & NAVIGATION
           ============================================ */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--color-line);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 20px;
            max-width: 100%;
        }

        .logo {
            height: 40px;
            width: auto;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Language Selector */
        .lang-selector {
            display: flex;
            gap: 8px;
        }

        .lang-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            opacity: 0.5;
            transition: opacity 0.3s ease, transform 0.2s ease;
            padding: 4px;
        }

        .lang-btn:hover {
            opacity: 0.8;
        }

        .lang-btn.active {
            opacity: 1;
        }

        /* Hamburger Menu */
        .menu-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 1001;
        }

        .menu-toggle span {
            display: block;
            width: 24px;
            height: 2px;
            background-color: var(--color-title);
            transition: all 0.3s ease;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        /* Navigation Overlay */
        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.98);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .nav-menu {
            list-style: none;
            text-align: center;
        }

        .nav-menu li {
            margin: 24px 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }

        .nav-overlay.active .nav-menu li {
            opacity: 1;
            transform: translateY(0);
        }

        .nav-overlay.active .nav-menu li:nth-child(1) { transition-delay: 0.1s; }
        .nav-overlay.active .nav-menu li:nth-child(2) { transition-delay: 0.2s; }
        .nav-overlay.active .nav-menu li:nth-child(3) { transition-delay: 0.3s; }
        .nav-overlay.active .nav-menu li:nth-child(4) { transition-delay: 0.4s; }

        .nav-menu a {
            font-family: var(--font-body);
            font-size: 20px;
            font-weight: 400;
            color: var(--color-title);
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: color 0.3s ease;
            padding: 8px 16px;
            display: inline-block;
        }

        .nav-menu a:hover {
            color: var(--color-accent);
        }

        /* ============================================
           MAIN CONTENT
           ============================================ */
        .main-content {
            padding-top: 80px;
            padding-bottom: 60px;
        }

        /* ============================================
           SECTIONS
           ============================================ */
        .menu-section {
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Main Section Title (white) */
        .section-title {
            font-family: var(--font-body);
            font-size: 30px;
            font-weight: 500;
            color: var(--color-title);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 0;
            position: relative;
            display: block;
            text-align: center;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: auto;
            min-width: 100px;
            height: 2px;
            background-color: var(--color-accent);
        }

        /* Subsection Title (cyan) */
        .subsection-title {
            font-family: var(--font-body);
            font-size: 25px;
            font-weight: 400;
            color: var(--color-accent);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 40px;
            margin-bottom: 24px;
            position: relative;
            display: block;
            text-align: center;
        }

        /* First subsection title directly after section title */
        .section-title + .subsection-title {
            margin-top: 8px;
        }

        /* No underline for subsection titles */

        /* Sub-subcategory Title (gold) */
        .subcategory-title {
            font-family: var(--font-body);
            font-size: 25px;
            font-weight: 500;
            color: var(--color-gold);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 36px;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Weekly Menu Special Text */
        .weekly-intro {
            font-family: var(--font-title);
            font-size: 20px;
            font-weight: 700;
            font-style: normal;
            color: var(--color-gold);
            margin-top: 8px;
            margin-bottom: 32px;
            line-height: 1.5;
            text-align: center;
        }

        /* ============================================
           MENU ITEMS
           ============================================ */
        .menu-item {
            margin-bottom: 28px;
        }

        .menu-item-header {
            display: flex;
            align-items: baseline;
            gap: 12px;
            margin-bottom: 6px;
        }

        .dish-name {
            font-family: var(--font-title);
            font-size: 22px;
            font-weight: 500;
            color: var(--color-title);
            flex-shrink: 0;
        }

        .dish-line {
            flex-grow: 1;
            height: 1px;
            background: linear-gradient(to right, var(--color-line) 0%, transparent 100%);
            margin-top: 10px;
        }

        .dish-price {
            font-family: var(--font-title);
            font-size: 20px;
            font-weight: 400;
            color: var(--color-title);
            flex-shrink: 0;
        }

        .dish-description {
            font-family: var(--font-body);
            font-size: 15px;
            font-weight: 300;
            color: var(--color-description);
            line-height: 1.5;
        }

        /* Veggie Leaf Icon */
        .veggie-icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-left: 4px;
            cursor: pointer;
            vertical-align: middle;
            position: relative;
            top: -2px;
            object-fit: contain;
        }

        /* Tooltip for veggie icon */
        .veggie-tooltip {
            position: fixed;
            background-color: rgba(0, 0, 0, 0.95);
            color: #C59764;
            padding: 10px 16px;
            border-radius: 6px;
            font-family: var(--font-body);
            font-size: 14px;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            white-space: nowrap;
        }

        .veggie-tooltip.visible {
            opacity: 1;
        }

        /* Tags (for takeaway) */
        .tag {
            display: inline-block;
            font-family: var(--font-body);
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 4px 10px;
            border-radius: 3px;
            margin-left: 10px;
            vertical-align: middle;
            position: relative;
            top: -2px;
        }

        .tag-takeaway {
            background-color: var(--color-accent);
            color: var(--color-bg);
        }

        /* Weekly menu item prefix */
        .weekly-item .dish-name::before {
            content: '- ';
        }

        /* ============================================
           SCROLL TO TOP BUTTON
           ============================================ */
        .scroll-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 44px;
            height: 44px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--color-line);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            background: var(--color-accent);
            border-color: var(--color-accent);
        }

        .scroll-top svg {
            width: 20px;
            height: 20px;
            fill: var(--color-title);
        }

        .scroll-top:hover svg {
            fill: var(--color-bg);
        }

        /* ============================================
           LOGO SVG in Header
           ============================================ */
        .logo-svg {
            height: 36px;
            width: auto;
        }

        .logo-svg .flag-bg {
            fill: #D32F2F;
        }

        .logo-svg .flag-cross {
            fill: #FFFFFF;
        }

        .logo-svg .tower {
            fill: #FFFFFF;
        }

        .logo-svg .circle {
            fill: #D32F2F;
        }

        .logo-svg .text {
            fill: #FFFFFF;
            font-family: var(--font-body);
            font-weight: 600;
            letter-spacing: 8px;
        }

        .logo-svg .underline {
            fill: #D32F2F;
        }

        /* ============================================
           RESPONSIVE
           ============================================ */
        @media (max-width: 480px) {
            .header-content {
                padding: 10px 16px;
            }

            .menu-section {
                padding: 32px 16px;
            }

            .section-title {
                font-size: 25px;
                letter-spacing: 2px;
            }

            .subsection-title {
                font-size: 25px;
            }

            .subcategory-title {
                font-size: 25px;
            }

            .weekly-intro {
                font-family: var(--font-title);
                font-size: 20px;
                font-weight: 700;
            }

            .dish-name {
                font-size: 20px;
            }

            .dish-price {
                font-size: 18px;
            }

            .dish-description {
                font-size: 14px;
            }

            .nav-menu a {
                font-size: 18px;
            }

            .lang-btn {
                font-size: 16px;
            }
        }

        /* ============================================
           SECTION DIVIDER
           ============================================ */
        .section-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--color-line), transparent);
            margin: 20px 0;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <!-- Logo -->
            <img src="Logo agora.png" alt="AGORA" class="logo">

            <div class="header-right">
                <!-- Language Selector -->
                <div class="lang-selector">
                    <button class="lang-btn" data-lang="fr" title="Fran√ßais">üá´üá∑</button>
                    <button class="lang-btn" data-lang="de" title="Deutsch">üá©üá™</button>
                    <button class="lang-btn" data-lang="en" title="English">üá¨üáß</button>
                </div>

                <!-- Hamburger Menu -->
                <button class="menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation Overlay -->
    <nav class="nav-overlay">
        <ul class="nav-menu">
            <li><a href="#grecques" data-i18n="nav_grecques">Sp√©cialit√©s Grecques</a></li>
            <li><a href="#regionales" data-i18n="nav_regionales">Sp√©cialit√©s R√©gionales</a></li>
            <li><a href="#semaine" data-i18n="nav_semaine">Menus de la Semaine</a></li>
            <li><a href="#desserts" data-i18n="nav_desserts">Desserts Maison</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ========================================
             SP√âCIALIT√âS GRECQUES
             ======================================== -->
        <section id="grecques" class="menu-section">
            <h1 class="section-title" data-i18n="title_grecques">Sp√©cialit√©s Grecques</h1>

            <!-- Contenu charg√© dynamiquement -->
            <div id="grecques-container">
                <p style="text-align: center; color: var(--color-description);">Chargement...</p>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- ========================================
             SP√âCIALIT√âS R√âGIONALES
             ======================================== -->
        <section id="regionales" class="menu-section">
            <h1 class="section-title" data-i18n="title_regionales">Nos Sp√©cialit√©s R√©gionales</h1>

            <!-- Contenu charg√© dynamiquement -->
            <div id="regionales-container">
                <p style="text-align: center; color: var(--color-description);">Chargement...</p>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- ========================================
             MENUS DE LA SEMAINE
             ======================================== -->
        <section id="semaine" class="menu-section">
            <h1 class="section-title" data-i18n="title_semaine">Menus de la Semaine</h1>
            <p class="weekly-intro" data-i18n="weekly_intro">Chaque jour, 1 menu au choix parmi 5 vari√©s, avec une salade verte !<br>Le 11<sup>e</sup> menu est offert !</p>

            <!-- Menus charg√©s dynamiquement via Google Sheets -->
            <div id="weekly-menu-container">
                <p id="weekly-loading" style="text-align: center; color: var(--color-description);">Chargement des menus...</p>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- ========================================
             DESSERTS MAISON
             ======================================== -->
        <section id="desserts" class="menu-section">
            <h1 class="section-title" data-i18n="title_desserts">Desserts Maison</h1>

            <!-- Contenu charg√© dynamiquement -->
            <div id="desserts-container">
                <p style="text-align: center; color: var(--color-description);">Chargement...</p>
            </div>
        </section>

    </main>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" aria-label="Retour en haut">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4l-8 8h5v8h6v-8h5z"/>
        </svg>
    </button>

    <!-- JavaScript -->
    <script>
        // ============================================
        // TRANSLATIONS
        // ============================================
        const translations = {
            fr: {
                // Navigation
                nav_grecques: "Sp√©cialit√©s Grecques",
                nav_regionales: "Sp√©cialit√©s R√©gionales",
                nav_semaine: "Menus de la Semaine",
                nav_desserts: "Desserts Maison",
                
                // Section Titles
                title_grecques: "Sp√©cialit√©s Grecques",
                title_regionales: "Nos Sp√©cialit√©s R√©gionales",
                title_semaine: "Menus de la Semaine",
                title_desserts: "Desserts Maison",
                
                // Subtitles
                subtitle_entrees: "Entr√©es",
                subtitle_plats: "Plats",
                subtitle_vegetarien: "V√©g√©tarien",
                subtitle_poisson: "Poisson",
                subtitle_enfants: "Menu Enfants",
                
                // Tags
                tag_veggie: "Veggie",
                tag_takeaway: "√Ä l'emporter ou sur place",
                
                // Weekly intro
                weekly_intro: "Chaque jour, 1 menu au choix parmi 5 vari√©s, avec une salade verte !<br>Le 11<sup>e</sup> menu est offert !",
                
                // Greek Starters
                dish_tzatziki: "Yaourt grec au concombre r√¢p√© frais, √† l'ail, √† l'aneth et √† l'huile d'olive, servi bien frais.",
                dish_salade_grecque_name: "Salade grecque / Plat",
                dish_salade_grecque: "Tomates fra√Æches, concombre croquant, oignons rouges, olives marin√©es, c√¢pres et feta.",
                dish_tirokafteri: "Yaourt grec, feta r√¢p√©e et paprika piquant.",
                dish_boulettes_courgette_name: "Boulettes de courgette",
                dish_boulettes_courgette: "Courgettes et feta r√¢p√©es, li√©es aux ≈ìufs et parfum√©es de menthe et d'aneth.",
                dish_assiette_mezee_name: "Assiette m√©z√©e",
                dish_assiette_mezee: "Un assortiment de sp√©cialit√©s grecques : tzatziki, tirokafteri, tartare d'aubergine, f√®ves de pois chiches et pain pita.",
                dish_feta_phyllo_name: "Feta en p√¢te phyllo",
                dish_feta_phyllo: "Napp√©e de miel et parsem√©e de s√©same.",
                
                // Greek Mains
                dish_moussaka: "Aubergines, courgettes et pommes de terre saut√©es, avec viande hach√©e de b≈ìuf et sauce b√©chamel.",
                dish_souvlaki: "Brochettes de poulet ou de porc accompagn√©es de l√©gumes, avec tzatziki, salade et pain pita.",
                dish_gyros: "Fines tranches de poulet servies avec tzatziki, pain pita, oignons, tomates et frites.",
                dish_arni: "Rack d'agneau servi avec tzatziki, salade grecque, frites dor√©es et pain pita.",
                dish_papoutsakia: "Aubergines grill√©es farcies aux l√©gumes, accompagn√©es de riz et napp√©es de sauce tomate.",
                dish_soutzoukakia: "Boulettes de b≈ìuf hach√© √©pic√©es au cumin et √† l'ail, servies avec une sauce tomate.",
                
                // Regional Starters
                dish_salade_verte_name: "Salade verte",
                dish_salade_verte: "Un classique tout en fra√Æcheur.",
                dish_salade_melee_name: "Salade m√™l√©e maison",
                dish_salade_melee: "Une assiette fra√Æche et color√©e, pr√©par√©e maison.",
                dish_soupe_oignon_name: "Soupe √† l'oignon gratin√©e",
                dish_soupe_oignon: "Une soupe chaude et savoureuse, gratin√©e au fromage.",
                
                // Regional Mains
                dish_burger_agora: "Burger maison au b≈ìuf hach√©, garni de feta, jambon cru, l√©gumes et servi avec frites.",
                dish_cordon_bleu_name: "Cordon-bleu de porc",
                dish_cordon_bleu: "Recette maison, farci au jambon et au fromage, accompagn√© de l√©gumes de saison et de frites.",
                dish_poulet_curry_name: "Poulet au curry",
                dish_poulet_curry: "Poulet tendre au curry doux, avec fruits frais, cr√®me et riz.",
                dish_macaronis_name: "Macaronis de l'alpage",
                dish_macaronis: "Cornettes √† la cr√®me, fromage r√¢p√©, oignons et lard, subtilement assaisonn√©s d'aromat et de poivre.",
                
                // Vegetarian
                dish_burger_veggie_name: "Burger Veggie",
                dish_burger_veggie: "Burger maison √† base de pois chiches, betterave rouge et lentilles.",
                dish_feuillete_name: "Feuillet√© aux champignons",
                dish_feuillete: "P√¢t√© feuillet√© garni de champignons, servi avec riz.",
                dish_curry_fruits_name: "Curry de fruits",
                dish_curry_fruits: "Pr√©paration douce aux fruits et curry, accompagn√©e de riz.",
                
                // Fish
                dish_filets_sandre_name: "Filets de sandre",
                dish_filets_sandre: "Filets de sandre dor√©s √† la meuni√®re, servis avec sauce tartare, l√©gumes et frites.",
                dish_filets_perche_name: "Filets de perche",
                dish_filets_perche: "Filets de perche meuni√®re, accompagn√©s de sauce tartare, l√©gumes et frites.",
                dish_beignets_perche_name: "Beignets de perche",
                dish_beignets_perche: "Beignets de filets de perche croustillants, avec sauce tartare, l√©gumes et frites.",
                
                // Kids Menu
                dish_frites_name: "Portion de frites",
                dish_frites: "Frites dor√©es et croustillantes.",
                dish_pates_name: "P√¢tes √† la sauce napolitaine",
                dish_pates: "P√¢tes servies avec une sauce tomate maison.",
                dish_nuggets_name: "Nuggets de poulet",
                dish_nuggets: "Nuggets croustillants, accompagn√©s de frites.",
                
                // Weekly Menu
                weekly_1_name: "√âminc√© de porc",
                weekly_1_desc: "Salade ou Potage en entr√©e, suivie d'un √©minc√© de porc accompagn√© de riz et de l√©gumes.",
                weekly_2_name: "Steak hach√© de boeuf",
                weekly_2_desc: "Salade ou Potage en entr√©e, suivie d'un steak hach√© de boeuf, sauce Caf√© de Paris, frites et l√©gumes.",
                weekly_3_name: "Cuisse de poulet",
                weekly_3_desc: "Salade ou Potage en entr√©e, suivie d'une cuisse de poulet sauce au curry, accompagn√© de riz et de l√©gumes.",
                weekly_4_desc: "Salade ou Potage en entr√©e, sauce morille maison.",
                weekly_5_name: "Beignets de perche",
                weekly_5_desc: "Salade ou Potage en entr√©e, suivie de beignets de perche accompagn√©s de sauce tartare, frites et l√©gumes.",
                
                // Desserts
                dish_creme_brulee_name: "Cr√®me br√ªl√©e maison",
                dish_creme_brulee: "Pr√©par√© maison avec une texture onctueuse et une fine couche caram√©lis√©e.",
                dish_fondant_name: "Fondant au chocolat",
                dish_fondant: "Servi avec une boule de glace vanille et de la chantilly.",
                dish_meringue_name: "Meringue chantilly",
                dish_meringue: "Meringue croquante, accompagn√©e de chantilly et de deux boules de glace vanille.",
                dish_ravani_name: "Ravani grec",
                dish_ravani: "G√¢teau traditionnel √† base de semoule, de sucre et de farine, parfum√© √† la vanille.",
                dish_yaourt_miel_name: "Yaourt grec au miel et aux noix",
                dish_yaourt_miel: "Un dessert frais et authentique, alliant douceur du miel et croquant des noix."
            },
            
            de: {
                // Navigation
                nav_grecques: "Griechische Spezialit√§ten",
                nav_regionales: "Regionale Spezialit√§ten",
                nav_semaine: "Wochenmen√ºs",
                nav_desserts: "Hausgemachte Desserts",
                
                // Section Titles
                title_grecques: "Griechische Spezialit√§ten",
                title_regionales: "Unsere Regionalen Spezialit√§ten",
                title_semaine: "Wochenmen√ºs",
                title_desserts: "Hausgemachte Desserts",
                
                // Subtitles
                subtitle_entrees: "Vorspeisen",
                subtitle_plats: "Hauptgerichte",
                subtitle_vegetarien: "Vegetarisch",
                subtitle_poisson: "Fisch",
                subtitle_enfants: "Kindermen√º",
                
                // Tags
                tag_veggie: "Veggie",
                tag_takeaway: "Zum Mitnehmen oder vor Ort",
                
                // Weekly intro
                weekly_intro: "Jeden Tag 1 Men√º zur Auswahl aus 5 verschiedenen, mit gr√ºnem Salat ‚Äî 19.90.- !<br>Das 11. Men√º ist gratis!",
                
                // Greek Starters
                dish_tzatziki: "Griechischer Joghurt mit frisch geraspelter Gurke, Knoblauch, Dill und Oliven√∂l, gut gek√ºhlt serviert.",
                dish_salade_grecque_name: "Griechischer Salat / Teller",
                dish_salade_grecque: "Frische Tomaten, knackige Gurke, rote Zwiebeln, marinierte Oliven, Kapern und Feta.",
                dish_tirokafteri: "Griechischer Joghurt, geriebener Feta und scharfer Paprika.",
                dish_boulettes_courgette_name: "Zucchinib√§llchen",
                dish_boulettes_courgette: "Geriebene Zucchini und Feta, mit Eiern gebunden und mit Minze und Dill verfeinert.",
                dish_assiette_mezee_name: "Mezze-Teller",
                dish_assiette_mezee: "Eine Auswahl griechischer Spezialit√§ten: Tzatziki, Tirokafteri, Auberginentartar, Kichererbsen und Pita-Brot.",
                dish_feta_phyllo_name: "Feta im Filoteig",
                dish_feta_phyllo: "Mit Honig betr√§ufelt und mit Sesam bestreut.",
                
                // Greek Mains
                dish_moussaka: "Gebratene Auberginen, Zucchini und Kartoffeln mit Rinderhackfleisch und B√©chamelsauce.",
                dish_souvlaki: "H√§hnchen- oder Schweinefleischspiesse mit Gem√ºse, Tzatziki, Salat und Pita-Brot.",
                dish_gyros: "Feine H√§hnchenscheiben mit Tzatziki, Pita-Brot, Zwiebeln, Tomaten und Pommes frites.",
                dish_arni: "Lammkarree mit Tzatziki, griechischem Salat, goldenen Pommes frites und Pita-Brot.",
                dish_papoutsakia: "Gegrillte Auberginen gef√ºllt mit Gem√ºse, mit Reis und Tomatensauce.",
                dish_soutzoukakia: "Gew√ºrzte Rinderhackb√§llchen mit Kreuzk√ºmmel und Knoblauch, serviert mit Tomatensauce.",
                
                // Regional Starters
                dish_salade_verte_name: "Gr√ºner Salat",
                dish_salade_verte: "Ein frischer Klassiker.",
                dish_salade_melee_name: "Gemischter Hau—Å—Åalat",
                dish_salade_melee: "Ein frischer und bunter Teller, hausgemacht zubereitet.",
                dish_soupe_oignon_name: "√úberbackene Zwiebelsuppe",
                dish_soupe_oignon: "Eine warme und schmackhafte Suppe, mit K√§se √ºberbacken.",
                
                // Regional Mains
                dish_burger_agora: "Hausgemachter Burger mit Rinderhackfleisch, Feta, rohem Schinken, Gem√ºse und Pommes frites.",
                dish_cordon_bleu_name: "Schweine-Cordon-bleu",
                dish_cordon_bleu: "Hausgemachtes Rezept, gef√ºllt mit Schinken und K√§se, mit Saisongem√ºse und Pommes frites.",
                dish_poulet_curry_name: "H√§hnchen-Curry",
                dish_poulet_curry: "Zartes H√§hnchen in mildem Curry mit frischen Fr√ºchten, Sahne und Reis.",
                dish_macaronis_name: "√Ñlplermagronen",
                dish_macaronis: "H√∂rnli mit Rahm, geriebenem K√§se, Zwiebeln und Speck, fein gew√ºrzt mit Aromat und Pfeffer.",
                
                // Vegetarian
                dish_burger_veggie_name: "Veggie Burger",
                dish_burger_veggie: "Hausgemachter Burger aus Kichererbsen, Roter Bete und Linsen.",
                dish_feuillete_name: "Pilz-Bl√§tterteigtasche",
                dish_feuillete: "Bl√§tterteig gef√ºllt mit Pilzen, serviert mit Reis.",
                dish_curry_fruits_name: "Fr√ºchte-Curry",
                dish_curry_fruits: "Milde Zubereitung mit Fr√ºchten und Curry, serviert mit Reis.",
                
                // Fish
                dish_filets_sandre_name: "Zanderfilets",
                dish_filets_sandre: "Zanderfilets M√ºllerin Art, serviert mit Tartarsauce, Gem√ºse und Pommes frites.",
                dish_filets_perche_name: "Egli-Filets",
                dish_filets_perche: "Egli-Filets M√ºllerin Art, mit Tartarsauce, Gem√ºse und Pommes frites.",
                dish_beignets_perche_name: "Egli-Beignets",
                dish_beignets_perche: "Knusprige Egli-Filet-Beignets mit Tartarsauce, Gem√ºse und Pommes frites.",
                
                // Kids Menu
                dish_frites_name: "Portion Pommes frites",
                dish_frites: "Goldene und knusprige Pommes frites.",
                dish_pates_name: "Pasta mit Napolitana-Sauce",
                dish_pates: "Pasta mit hausgemachter Tomatensauce.",
                dish_nuggets_name: "Chicken Nuggets",
                dish_nuggets: "Knusprige Nuggets mit Pommes frites.",
                
                // Weekly Menu
                weekly_1_name: "Geschnetzeltes vom Schwein",
                weekly_1_desc: "Salat oder Suppe als Vorspeise, gefolgt von Schweinegeschnetzeltem mit Reis und Gem√ºse.",
                weekly_2_name: "Rinderhacksteak",
                weekly_2_desc: "Salat oder Suppe als Vorspeise, gefolgt von Rinderhacksteak mit Caf√©-de-Paris-Sauce, Pommes frites und Gem√ºse.",
                weekly_3_name: "H√§hnchenschenkel",
                weekly_3_desc: "Salat oder Suppe als Vorspeise, gefolgt von H√§hnchenschenkel in Currysauce mit Reis und Gem√ºse.",
                weekly_4_desc: "Salat oder Suppe als Vorspeise, hausgemachte Morchelsauce.",
                weekly_5_name: "Egli-Beignets",
                weekly_5_desc: "Salat oder Suppe als Vorspeise, gefolgt von Egli-Beignets mit Tartarsauce, Pommes frites und Gem√ºse.",
                
                // Desserts
                dish_creme_brulee_name: "Hausgemachte Cr√®me br√ªl√©e",
                dish_creme_brulee: "Hausgemacht mit cremiger Textur und feiner Karamellschicht.",
                dish_fondant_name: "Schokoladen-Fondant",
                dish_fondant: "Serviert mit einer Kugel Vanilleeis und Schlagsahne.",
                dish_meringue_name: "Meringue mit Schlagsahne",
                dish_meringue: "Knusprige Meringue mit Schlagsahne und zwei Kugeln Vanilleeis.",
                dish_ravani_name: "Griechischer Ravani",
                dish_ravani: "Traditioneller Kuchen aus Griess, Zucker und Mehl, mit Vanille aromatisiert.",
                dish_yaourt_miel_name: "Griechischer Joghurt mit Honig und N√ºssen",
                dish_yaourt_miel: "Ein frisches und authentisches Dessert, das die S√ºsse des Honigs mit dem Knuspern der N√ºsse verbindet."
            },
            
            en: {
                // Navigation
                nav_grecques: "Greek Specialties",
                nav_regionales: "Regional Specialties",
                nav_semaine: "Weekly Menus",
                nav_desserts: "Homemade Desserts",
                
                // Section Titles
                title_grecques: "Greek Specialties",
                title_regionales: "Our Regional Specialties",
                title_semaine: "Weekly Menus",
                title_desserts: "Homemade Desserts",
                
                // Subtitles
                subtitle_entrees: "Starters",
                subtitle_plats: "Main Courses",
                subtitle_vegetarien: "Vegetarian",
                subtitle_poisson: "Fish",
                subtitle_enfants: "Kids Menu",
                
                // Tags
                tag_veggie: "Veggie",
                tag_takeaway: "Takeaway or dine-in",
                
                // Weekly intro
                weekly_intro: "Every day, 1 menu to choose from 5 varieties, with a green salad ‚Äî 19.90.- !<br>The 11th menu is free!",
                
                // Greek Starters
                dish_tzatziki: "Greek yogurt with freshly grated cucumber, garlic, dill and olive oil, served well chilled.",
                dish_salade_grecque_name: "Greek Salad / Main",
                dish_salade_grecque: "Fresh tomatoes, crunchy cucumber, red onions, marinated olives, capers and feta.",
                dish_tirokafteri: "Greek yogurt, grated feta and spicy paprika.",
                dish_boulettes_courgette_name: "Zucchini Balls",
                dish_boulettes_courgette: "Grated zucchini and feta, bound with eggs and flavored with mint and dill.",
                dish_assiette_mezee_name: "Mezze Platter",
                dish_assiette_mezee: "An assortment of Greek specialties: tzatziki, tirokafteri, eggplant tartare, chickpeas and pita bread.",
                dish_feta_phyllo_name: "Feta in Phyllo Pastry",
                dish_feta_phyllo: "Drizzled with honey and sprinkled with sesame.",
                
                // Greek Mains
                dish_moussaka: "Saut√©ed eggplant, zucchini and potatoes with ground beef and b√©chamel sauce.",
                dish_souvlaki: "Chicken or pork skewers with vegetables, tzatziki, salad and pita bread.",
                dish_gyros: "Thin chicken slices served with tzatziki, pita bread, onions, tomatoes and fries.",
                dish_arni: "Rack of lamb served with tzatziki, Greek salad, golden fries and pita bread.",
                dish_papoutsakia: "Grilled eggplants stuffed with vegetables, served with rice and tomato sauce.",
                dish_soutzoukakia: "Spiced beef meatballs with cumin and garlic, served with tomato sauce.",
                
                // Regional Starters
                dish_salade_verte_name: "Green Salad",
                dish_salade_verte: "A refreshing classic.",
                dish_salade_melee_name: "Mixed House Salad",
                dish_salade_melee: "A fresh and colorful plate, homemade.",
                dish_soupe_oignon_name: "French Onion Soup",
                dish_soupe_oignon: "A warm and savory soup, gratinated with cheese.",
                
                // Regional Mains
                dish_burger_agora: "Homemade burger with ground beef, feta, cured ham, vegetables and fries.",
                dish_cordon_bleu_name: "Pork Cordon Bleu",
                dish_cordon_bleu: "Homemade recipe, stuffed with ham and cheese, served with seasonal vegetables and fries.",
                dish_poulet_curry_name: "Chicken Curry",
                dish_poulet_curry: "Tender chicken in mild curry with fresh fruits, cream and rice.",
                dish_macaronis_name: "Alpine Macaroni",
                dish_macaronis: "Pasta with cream, grated cheese, onions and bacon, subtly seasoned with aromat and pepper.",
                
                // Vegetarian
                dish_burger_veggie_name: "Veggie Burger",
                dish_burger_veggie: "Homemade burger made with chickpeas, beetroot and lentils.",
                dish_feuillete_name: "Mushroom Puff Pastry",
                dish_feuillete: "Puff pastry filled with mushrooms, served with rice.",
                dish_curry_fruits_name: "Fruit Curry",
                dish_curry_fruits: "Mild preparation with fruits and curry, served with rice.",
                
                // Fish
                dish_filets_sandre_name: "Pike-perch Fillets",
                dish_filets_sandre: "Golden pike-perch fillets meuni√®re, served with tartar sauce, vegetables and fries.",
                dish_filets_perche_name: "Perch Fillets",
                dish_filets_perche: "Perch fillets meuni√®re, with tartar sauce, vegetables and fries.",
                dish_beignets_perche_name: "Perch Fritters",
                dish_beignets_perche: "Crispy perch fillet fritters with tartar sauce, vegetables and fries.",
                
                // Kids Menu
                dish_frites_name: "French Fries",
                dish_frites: "Golden and crispy fries.",
                dish_pates_name: "Pasta with Napolitana Sauce",
                dish_pates: "Pasta served with homemade tomato sauce.",
                dish_nuggets_name: "Chicken Nuggets",
                dish_nuggets: "Crispy nuggets served with fries.",
                
                // Weekly Menu
                weekly_1_name: "Sliced Pork",
                weekly_1_desc: "Salad or soup as starter, followed by sliced pork with rice and vegetables.",
                weekly_2_name: "Beef Steak",
                weekly_2_desc: "Salad or soup as starter, followed by beef steak with Caf√© de Paris sauce, fries and vegetables.",
                weekly_3_name: "Chicken Leg",
                weekly_3_desc: "Salad or soup as starter, followed by chicken leg in curry sauce with rice and vegetables.",
                weekly_4_desc: "Salad or soup as starter, homemade morel sauce.",
                weekly_5_name: "Perch Fritters",
                weekly_5_desc: "Salad or soup as starter, followed by perch fritters with tartar sauce, fries and vegetables.",
                
                // Desserts
                dish_creme_brulee_name: "Homemade Cr√®me Br√ªl√©e",
                dish_creme_brulee: "Homemade with a smooth texture and a fine caramelized layer.",
                dish_fondant_name: "Chocolate Fondant",
                dish_fondant: "Served with a scoop of vanilla ice cream and whipped cream.",
                dish_meringue_name: "Meringue with Cream",
                dish_meringue: "Crunchy meringue with whipped cream and two scoops of vanilla ice cream.",
                dish_ravani_name: "Greek Ravani",
                dish_ravani: "Traditional cake made with semolina, sugar and flour, flavored with vanilla.",
                dish_yaourt_miel_name: "Greek Yogurt with Honey and Nuts",
                dish_yaourt_miel: "A fresh and authentic dessert, combining the sweetness of honey with the crunch of nuts."
            }
        };

        // ============================================
        // LANGUAGE DETECTION & SWITCHING
        // ============================================
        let currentLang = 'fr';

        function detectLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            const lang = browserLang.substring(0, 2).toLowerCase();
            
            if (translations[lang]) {
                return lang;
            }
            return 'fr'; // Default to French
        }

        function setLanguage(lang) {
            currentLang = lang;
            
            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.innerHTML = translations[lang][key];
                    }
                }
            });
            
            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Store preference
            localStorage.setItem('preferred-language', lang);
        }

        // ============================================
        // NAVIGATION
        // ============================================
        const menuToggle = document.querySelector('.menu-toggle');
        const navOverlay = document.querySelector('.nav-overlay');
        const navLinks = document.querySelectorAll('.nav-menu a');

        function toggleMenu() {
            menuToggle.classList.toggle('active');
            navOverlay.classList.toggle('active');
            document.body.style.overflow = navOverlay.classList.contains('active') ? 'hidden' : '';
        }

        function closeMenu() {
            menuToggle.classList.remove('active');
            navOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        menuToggle.addEventListener('click', toggleMenu);

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                closeMenu();
                
                setTimeout(() => {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);
            });
        });

        // Close menu on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && navOverlay.classList.contains('active')) {
                closeMenu();
            }
        });

        // ============================================
        // SCROLL TO TOP BUTTON
        // ============================================
        const scrollTopBtn = document.querySelector('.scroll-top');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 500) {
                scrollTopBtn.classList.add('visible');
            } else {
                scrollTopBtn.classList.remove('visible');
            }
        });

        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // ============================================
        // LANGUAGE BUTTON EVENTS
        // ============================================
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                setLanguage(lang);
            });
        });

        // ============================================
        // GOOGLE SHEETS - WEEKLY MENU
        // ============================================
        // URLs des onglets Google Sheet (CSV)
        const SHEET_URLS = {
            menus: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTcCcnEZ9sq8GhazJHHCJc1zTkaPbOXa5EGYvpGkleUiktuScOC5oIfIfJYf9bXCM6RxOj1jcbVyfaM/pub?gid=0&single=true&output=csv',
            grecques: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTcCcnEZ9sq8GhazJHHCJc1zTkaPbOXa5EGYvpGkleUiktuScOC5oIfIfJYf9bXCM6RxOj1jcbVyfaM/pub?gid=1396099787&single=true&output=csv',
            regionales: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTcCcnEZ9sq8GhazJHHCJc1zTkaPbOXa5EGYvpGkleUiktuScOC5oIfIfJYf9bXCM6RxOj1jcbVyfaM/pub?gid=974189437&single=true&output=csv',
            desserts: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTcCcnEZ9sq8GhazJHHCJc1zTkaPbOXa5EGYvpGkleUiktuScOC5oIfIfJYf9bXCM6RxOj1jcbVyfaM/pub?gid=1813335111&single=true&output=csv'
        };

        // Donn√©es globales pour chaque section
        let menuData = {
            menus: [],
            grecques: [],
            regionales: [],
            desserts: []
        };

        // ============================================
        // FONCTIONS DE PARSING CSV
        // ============================================
        function parseCSVLine(line) {
            const result = [];
            let current = '';
            let inQuotes = false;

            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current);
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current);
            return result;
        }

        function isTrue(value) {
            return value && (value.toUpperCase() === 'TRUE' || value === '1' || value.toUpperCase() === 'OUI' || value.toUpperCase() === 'YES');
        }

        function normalizeType(type) {
            if (!type) return '';
            const t = type.trim().toLowerCase();
            if (t === 'entr√©e' || t === 'entree' || t === 'entr√©e/plat' || t === 'entree/plat') return 'entree';
            if (t === 'plat') return 'plat';
            return t;
        }

        // ============================================
        // CHARGEMENT DES DONN√âES
        // ============================================
        async function loadSheetData(url) {
            const cacheBusterUrl = url + '&t=' + Date.now();
            const response = await fetch(cacheBusterUrl);
            if (!response.ok) throw new Error('Erreur de chargement');
            return await response.text();
        }

        // Parser pour les Menus du jour
        // Colonnes: Nom_FR, Prix, Actif, V√©g√©tarien, Description_FR, Nom_Allemand, Description_Allemand, Nom_Anglais, Description_Anglais
        function parseMenus(csvText) {
            const lines = csvText.trim().split('\n');
            if (lines.length < 2) return [];

            const items = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length >= 9 && values[0].trim() && isTrue(values[2])) {
                    items.push({
                        name_fr: values[0].trim(),
                        price: values[1].trim(),
                        vegetarien: isTrue(values[3]),
                        desc_fr: values[4].trim(),
                        name_de: values[5].trim(),
                        desc_de: values[6].trim(),
                        name_en: values[7].trim(),
                        desc_en: values[8].trim()
                    });
                }
            }
            return items;
        }

        // Parser pour les Grecques
        // Colonnes: Nom_FR, Prix, Actif, Type, V√©g√©tarien, Description_FR, Nom_Allemand, Description_Allemand, Nom_Anglais, Description_Anglais
        function parseGrecques(csvText) {
            const lines = csvText.trim().split('\n');
            if (lines.length < 2) return [];

            const items = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length >= 10 && values[0].trim() && isTrue(values[2])) {
                    items.push({
                        name_fr: values[0].trim(),
                        price: values[1].trim(),
                        type: normalizeType(values[3]),
                        vegetarien: isTrue(values[4]),
                        desc_fr: values[5].trim(),
                        name_de: values[6].trim(),
                        desc_de: values[7].trim(),
                        name_en: values[8].trim(),
                        desc_en: values[9].trim()
                    });
                }
            }
            return items;
        }

        // Parser pour les R√©gionales
        // Colonnes: Nom_FR, Prix, Actif, Type, V√©g√©tarien, Pr√©senter tout en haut des plats r√©gionales, Poisson, Menu enfants, Description_FR, Nom_Allemand, Description_Allemand, Nom_Anglais, Description_Anglais
        function parseRegionales(csvText) {
            const lines = csvText.trim().split('\n');
            if (lines.length < 2) return [];

            const items = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length >= 13 && values[0].trim() && isTrue(values[2])) {
                    items.push({
                        name_fr: values[0].trim(),
                        price: values[1].trim(),
                        type: normalizeType(values[3]),
                        vegetarien: isTrue(values[4]),
                        vide: isTrue(values[5]),
                        poisson: isTrue(values[6]),
                        menuEnfants: isTrue(values[7]),
                        desc_fr: values[8].trim(),
                        name_de: values[9].trim(),
                        desc_de: values[10].trim(),
                        name_en: values[11].trim(),
                        desc_en: values[12].trim()
                    });
                }
            }
            return items;
        }

        // Parser pour les Desserts
        // Colonnes: Nom_FR, Prix, Actif, Description_FR, Nom_Allemand, Description_Allemand, Nom_Anglais, Description_Anglais
        function parseDesserts(csvText) {
            const lines = csvText.trim().split('\n');
            if (lines.length < 2) return [];

            const items = [];
            for (let i = 1; i < lines.length; i++) {
                const values = parseCSVLine(lines[i]);
                if (values.length >= 8 && values[0].trim() && isTrue(values[2])) {
                    items.push({
                        name_fr: values[0].trim(),
                        price: values[1].trim(),
                        desc_fr: values[3].trim(),
                        name_de: values[4].trim(),
                        desc_de: values[5].trim(),
                        name_en: values[6].trim(),
                        desc_en: values[7].trim()
                    });
                }
            }
            return items;
        }

        // ============================================
        // FONCTIONS DE RENDU HTML
        // ============================================
        function getItemName(item) {
            if (currentLang === 'de' && item.name_de) return item.name_de;
            if (currentLang === 'en' && item.name_en) return item.name_en;
            return item.name_fr;
        }

        function getItemDesc(item) {
            if (currentLang === 'de' && item.desc_de) return item.desc_de;
            if (currentLang === 'en' && item.desc_en) return item.desc_en;
            return item.desc_fr;
        }

        function renderMenuItem(item, isWeekly = false) {
            const name = getItemName(item);
            const desc = getItemDesc(item);
            const veggieIcon = item.vegetarien ? '<img src="Veggie.png" alt="V√©g√©tarien" class="veggie-icon" title="Plat v√©g√©tarien">' : '';

            return `
                <div class="menu-item${isWeekly ? ' weekly-item' : ''}">
                    <div class="menu-item-header">
                        <span class="dish-name">${name}</span>
                        ${veggieIcon}
                        <span class="dish-line"></span>
                        <span class="dish-price">${item.price}</span>
                    </div>
                    <p class="dish-description">${desc}</p>
                </div>
            `;
        }

        // Rendu des Menus du jour
        function renderMenus() {
            const container = document.getElementById('weekly-menu-container');
            if (!menuData.menus || menuData.menus.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--color-description);">Aucun menu disponible</p>';
                return;
            }

            let html = '';
            menuData.menus.forEach(item => {
                html += renderMenuItem(item, true);
            });
            container.innerHTML = html;
        }

        // Rendu des Grecques
        function renderGrecques() {
            const container = document.getElementById('grecques-container');
            if (!menuData.grecques || menuData.grecques.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--color-description);">Aucun plat disponible</p>';
                return;
            }

            const entrees = menuData.grecques.filter(item => item.type === 'entree');
            const plats = menuData.grecques.filter(item => item.type === 'plat');

            let html = '';

            // Entr√©es
            html += `<h2 class="subsection-title" data-i18n="subtitle_entrees">${translations[currentLang].subtitle_entrees}</h2>`;
            entrees.forEach(item => {
                html += renderMenuItem(item);
            });

            // Plats
            html += `<h2 class="subsection-title" data-i18n="subtitle_plats">${translations[currentLang].subtitle_plats}</h2>`;
            plats.forEach(item => {
                html += renderMenuItem(item);
            });

            container.innerHTML = html;
        }

        // Rendu des R√©gionales
        function renderRegionales() {
            const container = document.getElementById('regionales-container');
            if (!menuData.regionales || menuData.regionales.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--color-description);">Aucun plat disponible</p>';
                return;
            }

            // S√©parer entr√©es et plats
            const entrees = menuData.regionales.filter(item => item.type === 'entree');
            const plats = menuData.regionales.filter(item => item.type === 'plat');

            // Pour les plats, s√©parer par sous-cat√©gorie
            // Ordre: Vide (en haut), V√©g√©tarien, Poisson, Menu enfants
            const platsVide = plats.filter(item => item.vide && !item.vegetarien && !item.poisson && !item.menuEnfants);
            const platsVegetarien = plats.filter(item => item.vegetarien && !item.poisson);
            const platsPoisson = plats.filter(item => item.poisson);
            const platsEnfants = plats.filter(item => item.menuEnfants && !item.vegetarien && !item.poisson && !item.vide);

            let html = '';

            // Entr√©es (peuvent √™tre v√©g√©tariennes ou non)
            html += `<h2 class="subsection-title" data-i18n="subtitle_entrees">${translations[currentLang].subtitle_entrees}</h2>`;
            entrees.forEach(item => {
                html += renderMenuItem(item);
            });

            // Plats
            html += `<h2 class="subsection-title" data-i18n="subtitle_plats">${translations[currentLang].subtitle_plats}</h2>`;

            // Plats "Vide" (tout en haut, sans sous-cat√©gorie)
            platsVide.forEach(item => {
                html += renderMenuItem(item);
            });

            // V√©g√©tarien
            if (platsVegetarien.length > 0) {
                html += `<h3 class="subcategory-title" data-i18n="subtitle_vegetarien">${translations[currentLang].subtitle_vegetarien}</h3>`;
                platsVegetarien.forEach(item => {
                    html += renderMenuItem(item);
                });
            }

            // Poisson
            if (platsPoisson.length > 0) {
                html += `<h3 class="subcategory-title" data-i18n="subtitle_poisson">${translations[currentLang].subtitle_poisson}</h3>`;
                platsPoisson.forEach(item => {
                    html += renderMenuItem(item);
                });
            }

            // Menu Enfants
            if (platsEnfants.length > 0) {
                html += `<h3 class="subcategory-title" data-i18n="subtitle_enfants">${translations[currentLang].subtitle_enfants}</h3>`;
                platsEnfants.forEach(item => {
                    html += renderMenuItem(item);
                });
            }

            container.innerHTML = html;
        }

        // Rendu des Desserts
        function renderDesserts() {
            const container = document.getElementById('desserts-container');
            if (!menuData.desserts || menuData.desserts.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--color-description);">Aucun dessert disponible</p>';
                return;
            }

            let html = '<div style="margin-top: 32px;"></div>';
            menuData.desserts.forEach(item => {
                html += renderMenuItem(item);
            });
            container.innerHTML = html;
        }

        // Rendu de toutes les sections
        function renderAllSections() {
            renderMenus();
            renderGrecques();
            renderRegionales();
            renderDesserts();
            // R√©initialiser les ic√¥nes veggie apr√®s le rendu
            setupVeggieIcons();
        }

        // Charger toutes les donn√©es
        async function loadAllData() {
            try {
                const [menusCSV, grecquesCSV, regionalesCSV, dessertsCSV] = await Promise.all([
                    loadSheetData(SHEET_URLS.menus),
                    loadSheetData(SHEET_URLS.grecques),
                    loadSheetData(SHEET_URLS.regionales),
                    loadSheetData(SHEET_URLS.desserts)
                ]);

                menuData.menus = parseMenus(menusCSV);
                menuData.grecques = parseGrecques(grecquesCSV);
                menuData.regionales = parseRegionales(regionalesCSV);
                menuData.desserts = parseDesserts(dessertsCSV);

                renderAllSections();

            } catch (error) {
                console.error('Erreur lors du chargement des donn√©es:', error);
            }
        }

        // ============================================
        // VEGGIE ICON TOOLTIP
        // ============================================
        let veggieTooltip = null;

        function createVeggieTooltip() {
            veggieTooltip = document.createElement('div');
            veggieTooltip.className = 'veggie-tooltip';
            veggieTooltip.textContent = 'Plat v√©g√©tarien';
            document.body.appendChild(veggieTooltip);
        }

        function showVeggieTooltip(e) {
            const icon = e.target;
            const rect = icon.getBoundingClientRect();

            veggieTooltip.style.left = rect.left + (rect.width / 2) - (veggieTooltip.offsetWidth / 2) + 'px';
            veggieTooltip.style.top = rect.top - veggieTooltip.offsetHeight - 8 + 'px';
            veggieTooltip.classList.add('visible');

            // Hide after 2 seconds
            setTimeout(() => {
                veggieTooltip.classList.remove('visible');
            }, 2000);
        }

        function setupVeggieIcons() {
            const veggieIcons = document.querySelectorAll('.veggie-icon');
            veggieIcons.forEach(icon => {
                // Remove any existing listener to avoid duplicates
                icon.removeEventListener('click', showVeggieTooltip);
                icon.addEventListener('click', showVeggieTooltip);
            });
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        document.addEventListener('DOMContentLoaded', async () => {
            // Check for stored preference first, then detect
            const storedLang = localStorage.getItem('preferred-language');
            const initialLang = storedLang || detectLanguage();
            setLanguage(initialLang);

            // Setup veggie tooltip (icons will be set up after loading)
            createVeggieTooltip();

            // Load all data from Google Sheets
            await loadAllData();
        });

        // Override setLanguage to also update all sections
        const originalSetLanguage = setLanguage;
        setLanguage = function(lang) {
            originalSetLanguage(lang);
            // Re-render all sections in new language if data is loaded
            if (menuData.menus.length > 0 || menuData.grecques.length > 0 || menuData.regionales.length > 0 || menuData.desserts.length > 0) {
                renderAllSections();
            }
        };
    </script>

</body>
</html>
